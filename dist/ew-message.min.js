/*!
 * ewMeassage.js v0.1.2
 * (c) 2023-2024 eveningwater 
 * Released under the MIT License.
 */
var e,s;e=this,s=function(){"use strict";const e={success:"success",info:"info",warning:"warning",error:"error"},s={content:"",center:!1,type:"info",duration:100,showClose:!0,stylePrefix:"ew-",maxDuration:1e4,showTypeIcon:!0,immediate:!0,container:document.body,removeClassName:"",removeClassNameSymbol:" ",startClassName:"",startClassNameSymbol:" "},t=(e="ew-")=>`\n.${e}message-fadeOut{animation:fadeOut 0.2s cubic-bezier(0.075, 0.82, 0.165, 1)}@keyframes fadeOut{0%{opacity:1}25%{opacity:0.8}50%{opacity:0.6}75%{opacity:0.4}100%{opacity:0}}.${e}message-scaleDown{animation:scaleDown 0.2s cubic-bezier(0.075, 0.82, 0.165, 1)}@keyframes scaleDown{0%{transform:scale(1)}25%{transform:scale(0.8)}50%{transform:scale(0.6)}75%{transform:scale(0.4)}100%{transform:scale(0)}}.${e}message-fadeIn{animation:fadeIn 0.2s cubic-bezier(0.075, 0.82, 0.165, 1)}@keyframes fadeIn{0%{opacity:1}25%{opacity:0.8}50%{opacity:0.6}75%{opacity:0.4}100%{opacity:0}}.${e}message-scaleUp{animation:scaleUp 0.2s cubic-bezier(0.075, 0.82, 0.165, 1)}@keyframes scaleUp{0%{transform:scale(1)}25%{transform:scale(0.8)}50%{transform:scale(0.6)}75%{transform:scale(0.4)}100%{transform:scale(0)}}.${e}message{min-width:300px;border:1px solid #ebeef5;position:fixed;left:50%;background-color:#edf2fc;transform:translateX(-50%);display:flex;align-items:center;padding:10px 15px;overflow:hidden;transition:transform 0.4s;border-radius:4px;top:25px;box-sizing:border-box;margin:0;z-index:1000}.${e}message-icon{width:1em;height:1em;margin-right:5px}.${e}message p{padding:0;padding-right:15px;line-height:1;font-size:14px;color:#909399;margin:0}.${e}message-close{position:absolute;top:50%;right:5px;transform:translateY(-50%);cursor:pointer;color:#909399;font-size:20px;font-style:normal}.${e}message-close:hover,.${e}message-close:active{color:#909399}.${e}message-close-icon{width:1em;height:1em}.${e}message-center{justify-content:center}.${e}message-success{background-color:#e1f3d8;border-color:#e1f3d8}.${e}message-success p,.${e}message-success .${e}message-close{color:#67c23a}.${e}message-success .${e}message-close:hover,.${e}message-success .${e}message-close:active{color:#67c23a}.${e}message-warning{background-color:#faecd8;border-color:#fdfce6}.${e}message-warning p,.${e}message-warning .${e}message-close{color:#e6a23c}.${e}message-warning .${e}message-close:hover,.${e}message-warning .${e}message-close:active{color:#e6a23c}.${e}message-error{background-color:#fef0f0;border-color:#fde2e2}.${e}message-error p,.${e}message-error .${e}message-close{color:#f56c6c}.${e}message-error .${e}message-close:hover,.${e}message-error .${e}message-close:active{color:#f56c6c};\n`,o=["fadeOut","scaleUp"],n=["fadeIn","scaleDown"],i={success:e=>`<svg t="1695191725930" class="${e}message-icon ${e}message-success-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4394"><path d="M512 97.52381c228.912762 0 414.47619 185.563429 414.47619 414.47619s-185.563429 414.47619-414.47619 414.47619S97.52381 740.912762 97.52381 512 283.087238 97.52381 512 97.52381z m193.194667 218.331428L447.21981 581.315048l-103.936-107.812572-52.662858 50.761143 156.379429 162.230857 310.662095-319.683047-52.467809-50.956191z" p-id="4395" fill="#1afa29"></path></svg>`,warning:e=>`<svg t="1695191794405" class="${e}message-icon ${e}message-warning-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5405"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296z m32 440c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48z" p-id="5406" fill="#faad14"></path></svg>`,info:e=>`<svg t="1695191942528" class="${e}message-icon ${e}message-info-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7731" id="mx_n_1695191942529"><path d="M512 1024A512 512 0 1 1 512 0a512 512 0 0 1 0 1024zM448 448v384h128V448H448z m0-256v128h128V192H448z" fill="#1677ff" p-id="7732"></path></svg>`,error:e=>`<svg t="1695191861829" class="${e}message-icon ${e}message-error-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6407"><path d="M512 64.303538c-247.25636 0-447.696462 200.440102-447.696462 447.696462 0 247.254314 200.440102 447.696462 447.696462 447.696462s447.696462-200.440102 447.696462-447.696462S759.25636 64.303538 512 64.303538zM710.491727 665.266709c12.491499 12.491499 12.489452 32.729425-0.002047 45.220924-6.246261 6.246261-14.429641 9.370415-22.611997 9.370415s-16.363689-3.121084-22.60995-9.366322L512 557.222971 358.730221 710.491727c-6.246261 6.246261-14.429641 9.366322-22.611997 9.366322s-16.365736-3.125177-22.611997-9.370415c-12.491499-12.491499-12.491499-32.729425 0-45.220924l153.268756-153.266709L313.50725 358.730221c-12.491499-12.491499-12.489452-32.729425 0.002047-45.220924s32.729425-12.495592 45.220924-0.004093l153.268756 153.268756 153.268756-153.268756c12.491499-12.491499 32.729425-12.487406 45.220924 0.004093s12.493545 32.729425 0.002047 45.220924L557.225017 512 710.491727 665.266709z" fill="#ff4d4f" p-id="6408"></path></svg>`},a=Object.create(null);a.isFunction=e=>"function"==typeof e,a.isDom=e=>"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&e instanceof Node&&1===e.nodeType&&"string"==typeof e.nodeName||e instanceof HTMLCollection||e instanceof NodeList,a.warn=e=>console.warn(e),a.toArray=e=>[].slice.call(e),a.isObject=e=>"object"==typeof e&&!!e,a.isString=e=>"string"==typeof e,a.isNumber=e=>"number"==typeof e&&!Number.isNaN(e),a.isArray=e=>Array.isArray?Array.isArray(e):"array"===Object.prototype.toString.call(e).slice(8,-1),a.hasOwn=(e,s)=>e.hasOwnProperty(s),a.$$=(e,s=document)=>s.querySelectorAll(e),a.$=(e,s=document)=>s.querySelector(e),a.create=e=>document.createElement(e),a.createElement=e=>{const s=document.createElement("div");return s.innerHTML=e,s.firstElementChild},a.addClass=(e,s)=>s.classList.add(e),a.removeClass=(e,s)=>s.classList.remove(e),a.on=(e,s,t,o=!1)=>{e&&s&&t&&e.addEventListener(s,t,o)},a.off=(e,s,t,o=!1)=>{e&&s&&t&&e.removeEventListener(s,t,o)},a.isRemoveNode=e=>a.isDom(e)&&a.isDom(e.parentElement)&&a.isFunction(e.parentElement?.removeChild);const r=e=>{let t=s;return"string"==typeof e?t.content=e:"object"==typeof e&&e&&(t={...t,...e}),t},c=e=>{if(a.isNumber(e))return`${e}px`;if(a.isString(e)){const s=/[px|%|rem|em|vh|vw|ex|rem|ch|vmin|vmax]/g;if(a.isNumber(Number(e.replace(s,"")))&&e)return e}return 25},l=(e,s,t,o,n,i)=>{const r=s?.split(t);let c=s;if(r.length>1){const s=[];n.forEach((e=>{r.forEach((t=>{const n=e.includes(t)?`${o}message-${t}`:t;s.push(n)}))})),s.forEach((s=>a.addClass(s,e))),c=s}else{let t=s;n.some((e=>e.includes(s)))&&(t=`${o}message-${s}`),a.addClass(t,e),c=t}a.on(e,"animationend",(()=>i?.(c)))};class m{options;el;closeBtnEl;constructor(e){this.options=this.normalizeOptions(e),this.el=null,this.closeBtnEl=null;let s=this.validateHasStyle();s&&(this.options.stylePrefix="ew-"),s||(e=>{let s=!1;return a.$$("style").forEach((o=>{o.textContent===t(e)&&(s=!0)})),s})(this.options.stylePrefix)||this.addMessageStyle(this.options.stylePrefix),this.addZIndex(),this.options.immediate&&this.render(this.options)}addZIndex(){const{messageZIndex:e,stylePrefix:s}=this.options;a.isNumber(e)&&e>0&&this.addMessageStyle(s,`.${s}message{z-index:${e}}`)}destroy(){this.el&&this.close(this.el,0,!0)}validateHasStyle(){return(()=>{let e=!1;return a.$$("link").forEach((s=>{const t=s.getAttribute("href");t?.includes("ew-message")&&(e=!0)})),e})()}normalizeOptions(e){return r(e)}getMessageType(){return e}getDefaultOption(){return s}addMessageStyle(e,s){return((e="ew-",s)=>new Promise((o=>{((e,s)=>{void 0===s&&(s={});const t=s.insertAt;if(!e||"undefined"==typeof document)return;const n=document.head||a.$("head"),i=document.createElement("style");i.type="text/css","top"===t&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.appendChild(document.createTextNode(e)),o(!0)})(s||t(e))})))(e,s)}checkContainer(e){if(a.isDom(e))return e;if(a.isString(e)){const s=a.$(e);return s||document.body}return document.body}render(e){const s=e||this.options,{duration:t,showClose:o,content:n,container:i,stylePrefix:r}=s;a.isNumber(t)&&!(t<=0)||o||(s.showClose=!0),a.isString(n);const c=this.checkContainer(i),l=this.create(s);this.animationAddNode(l,c),this.setTop(a.$$("."+r+"message",c)),a.isNumber(t)&&t>0&&this.el instanceof HTMLElement&&this.close(this.el,t),this.closeBtnEl&&a.on(this.closeBtnEl,"click",(()=>{this.close(this.closeBtnEl.parentElement,0)}))}create(e){const{stylePrefix:s,type:t,center:o,content:n,showTypeIcon:r,typeIcon:c,showClose:l,closeIcon:m}=e||this.options;let d=a.create("div");d.className=`${s}message ${s}message-${t}`,o&&a.addClass(s+"message-center",d);const p=a.create("p");if(p.innerHTML=n,r){const e=c||i[t||"info"](s);d.appendChild(a.createElement(e))}return d.appendChild(p),l&&(this.closeBtnEl=a.create("i"),a.addClass(`${s}message-close`,this.closeBtnEl),this.closeBtnEl.innerHTML=m||`<svg t="1690189203554" class="${s}message-close-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2272" fill="currentColor"><path d="M504.224 470.288l207.84-207.84a16 16 0 0 1 22.608 0l11.328 11.328a16 16 0 0 1 0 22.624l-207.84 207.824 207.84 207.84a16 16 0 0 1 0 22.608l-11.328 11.328a16 16 0 0 1-22.624 0l-207.824-207.84-207.84 207.84a16 16 0 0 1-22.608 0l-11.328-11.328a16 16 0 0 1 0-22.624l207.84-207.824-207.84-207.84a16 16 0 0 1 0-22.608l11.328-11.328a16 16 0 0 1 22.624 0l207.824 207.84z" p-id="2273"></path></svg>`,d.appendChild(this.closeBtnEl)),this.el=d,d}setTop(e){if(!e||!e.length)return;const{top:s}=this.options,t=e[0].offsetHeight;for(let o=0,n=e.length;o<n;o++)e[o].setAttribute("style",`top:${25!==c(s)?s:25*(o+1)+t*o+"px"};`)}animationAddNode(e,s){const{startClassName:t,stylePrefix:o,startClassNameSymbol:i}=this.options;t&&l(e,t,i,o,n,(s=>{a.isArray(s)?s.forEach((s=>a.removeClass(s,e))):a.removeClass(s,e)})),s.appendChild(e)}animationRemoveNode(e,s=!1){const{removeClassName:t,stylePrefix:n,removeClassNameSymbol:i}=this.options;t&&!s?l(e,t,i,n,o,(()=>e.parentElement?.removeChild(e))):e.parentElement?.removeChild(e)}close(e,s,t=!1){const o=!a.isNumber(s)||s<=0?100:s,n=this.options.maxDuration||1e4,i=!a.isNumber(n)||n<=o?o:n,r=this.checkContainer(this.options.container),c=Math.min(o<1e3?10*o:o,i),l=()=>{e instanceof NodeList||e instanceof HTMLCollection?a.toArray(e).forEach((e=>{a.isRemoveNode(e)&&this.animationRemoveNode(e,t)})):a.isRemoveNode(e)&&this.animationRemoveNode(e,t),this.setTop(a.$$("."+this.options.stylePrefix+"message",r))};t?l():setTimeout(l,c)}}const d=e=>new m(e);d.util=a;for(let s in e)d[s]=e=>{const t=r(e);return a.isObject(e)&&a.hasOwn(e,"type"),new m({...t,type:s})};return d},"object"==typeof exports&&"undefined"!=typeof module?module.exports=s():"function"==typeof define&&define.amd?define(s):(e="undefined"!=typeof globalThis?globalThis:e||self).ewMessage=s();