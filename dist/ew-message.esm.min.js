/*!
 * ewMeassage.js v0.1.4
 * (c) 2023-2024 eveningwater 
 * Released under the MIT License.
 */
var e,s;!function(e){e.FIXED="fixed",e.ABSOLUTE="absolute",e.RELATIVE="relative",e.STICKY="sticky",e.STATIC="static"}(e||(e={})),function(e){e.success="success",e.info="info",e.warning="warning",e.error="error"}(s||(s={}));const t={success:s.success,info:s.info,warning:s.warning,error:s.error},o={content:"",center:!1,type:"info",duration:100,showClose:!0,maxDuration:1e4,showTypeIcon:!0,immediate:!0,container:document.body,removeClassName:"",removeClassNameSymbol:" ",startClassName:"",startClassNameSymbol:" ",position:e.FIXED},n=["fadeOut","scaleUp"],i=["fadeIn","scaleDown"],a=Object.keys(e).reduce(((s,t)=>(s.push(e[t]),s)),[]),r={success:e=>`<svg t="1695191725930" class="${e}message-icon ${e}message-success-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4394"><path d="M512 97.52381c228.912762 0 414.47619 185.563429 414.47619 414.47619s-185.563429 414.47619-414.47619 414.47619S97.52381 740.912762 97.52381 512 283.087238 97.52381 512 97.52381z m193.194667 218.331428L447.21981 581.315048l-103.936-107.812572-52.662858 50.761143 156.379429 162.230857 310.662095-319.683047-52.467809-50.956191z" p-id="4395" fill="#1afa29"></path></svg>`,warning:e=>`<svg t="1695191794405" class="${e}message-icon ${e}message-warning-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5405"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296z m32 440c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48z" p-id="5406" fill="#faad14"></path></svg>`,info:e=>`<svg t="1695191942528" class="${e}message-icon ${e}message-info-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7731" id="mx_n_1695191942529"><path d="M512 1024A512 512 0 1 1 512 0a512 512 0 0 1 0 1024zM448 448v384h128V448H448z m0-256v128h128V192H448z" fill="#1677ff" p-id="7732"></path></svg>`,error:e=>`<svg t="1695191861829" class="${e}message-icon ${e}message-error-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6407"><path d="M512 64.303538c-247.25636 0-447.696462 200.440102-447.696462 447.696462 0 247.254314 200.440102 447.696462 447.696462 447.696462s447.696462-200.440102 447.696462-447.696462S759.25636 64.303538 512 64.303538zM710.491727 665.266709c12.491499 12.491499 12.489452 32.729425-0.002047 45.220924-6.246261 6.246261-14.429641 9.370415-22.611997 9.370415s-16.363689-3.121084-22.60995-9.366322L512 557.222971 358.730221 710.491727c-6.246261 6.246261-14.429641 9.366322-22.611997 9.366322s-16.365736-3.125177-22.611997-9.370415c-12.491499-12.491499-12.491499-32.729425 0-45.220924l153.268756-153.266709L313.50725 358.730221c-12.491499-12.491499-12.489452-32.729425 0.002047-45.220924s32.729425-12.495592 45.220924-0.004093l153.268756 153.268756 153.268756-153.268756c12.491499-12.491499 32.729425-12.487406 45.220924 0.004093s12.493545 32.729425 0.002047 45.220924L557.225017 512 710.491727 665.266709z" fill="#ff4d4f" p-id="6408"></path></svg>`},l=e=>void 0===e,c=e=>"string"==typeof e,m=e=>"number"==typeof e&&!Number.isNaN(e),d=e=>"object"==typeof e&&!!e,h=e=>Array.isArray?Array.isArray(e):"array"===Object.prototype.toString.call(e).slice(8,-1),p=e=>"function"==typeof e,f=e=>{if(d(HTMLElement))return e instanceof HTMLElement;return d(e)&&1===e.nodeType&&c(e.nodeName)||e instanceof HTMLCollection||e instanceof NodeList},u=e=>[].slice.call(e),g=(e,s=document)=>s.querySelectorAll(e),v=(e,s=document)=>s.querySelector(e),y=e=>document.createElement(e),w=e=>document.createRange().createContextualFragment(e),x=(e,s)=>s.classList.add(e),C=(e,s)=>s.classList.contains(e),E=(e,s)=>s.classList.remove(e),$=(e,s,t,o=!1)=>{e&&s&&t&&e.addEventListener(s,t,o)},N=e=>console.warn(e),T=e=>f(e)&&f(e.parentElement)&&p(e.parentElement?.removeChild),b=e=>{e&&(T(e)?e.parentElement.removeChild(e):e.remove())};var L=Object.freeze({__proto__:null,isUndef:l,isString:c,isNumber:m,isObject:d,isArray:h,isFunction:p,isDom:f,toArray:u,hasOwn:(e,s)=>e.hasOwnProperty(s),$$:g,$:v,create:y,createElement:w,addClass:x,hasClass:C,removeClass:E,on:$,off:(e,s,t,o=!1)=>{e&&s&&t&&e.removeEventListener(s,t,o)},warn:N,isRemoveNode:T,removeNode:b});const P=e=>{let s=o;return c(e)?s.content=e:d(e)&&(s={...s,...e}),s},B=(e,s)=>new Promise((t=>{((e,s)=>{void 0===s&&(s={});const o=s.insertAt;if(!e||l(document))return void t(!1);const n=document.head||v("head"),i=document.createElement("style");i.type="text/css",i.appendChild(document.createTextNode(e)),"top"===o&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),t(!0)})(e,s)})),z=e=>{if(m(e))return`${e}px`;if(c(e)){const s=/[px|%|rem|em|vh|vw|ex|rem|ch|vmin|vmax]/g;if(m(Number(e.replace(s,"")))&&e)return e}return 25},A=(e,s,t,o,n,i)=>{const a=s?.split(t);let r=s;if(a.length>1){const s=[];n.forEach((e=>{a.forEach((t=>{const n=e.includes(t)?`${o}message-${t}`:t;s.push(n)}))})),s.forEach((s=>x(s,e))),r=s}else{let t=s;n.some((e=>e.includes(s)))&&(t=`${o}message-${s}`),x(t,e),r=t}$(e,"animationend",(()=>i?.(r))),setTimeout((()=>{h(r)?r.some((s=>C(s,e)))&&i?.(r):C(r,e)&&i?.(r)}),1200)},M=e=>{if(f(e))return e;if(c(e)){const s=v(e);return s||document.body}return document.body};class S{options;el;closeBtnEl;stylePrefix="ew-";constructor(e){this.options=this.normalizeOptions(e),this.el=null,this.closeBtnEl=null;const{immediate:s}=this.options;this.addZIndex(),this.addPosition(),s&&this.render(this.options)}addPosition(){const{position:e,type:s}=this.options;c(e)&&a.includes(e)&&B(`.${this.stylePrefix}message.${this.stylePrefix}message-${s}{position:${e}}}`)}addZIndex(){const{messageZIndex:e}=this.options;m(e)&&e>0&&B(`.${this.stylePrefix}message{z-index:${e}}`)}destroy(){this.el&&this.close(this.el,0,!0)}normalizeOptions(e){return P(e)}getMessageType(){return t}getDefaultOption(){return o}render(e){const s=e||this.options,{duration:t,showClose:o,content:n,container:i}=s;m(t)&&!(t<=0)||o||(s.showClose=!0),c(n);const a=M(i),r=this.create(s);this.animationAddNode(r,a),this.setTop(g("."+this.stylePrefix+"message",a)),m(t)&&t>0&&this.el instanceof HTMLElement&&this.close(this.el,t),this.closeBtnEl&&$(this.closeBtnEl,"click",(()=>{this.close(this.closeBtnEl.parentElement,0)}))}create(e){const{type:s,center:t,content:o,showTypeIcon:n,typeIcon:i,showClose:a,closeIcon:l}=e||this.options;let c=y("div");c.className=`${this.stylePrefix}message ${this.stylePrefix}message-${s}`,t&&x(this.stylePrefix+"message-center",c);const m=y("p");if(m.appendChild(w(o)),n){const e=i||r[s||"info"](this.stylePrefix);c.appendChild(w(e))}return c.appendChild(m),a&&(this.closeBtnEl=y("i"),x(`${this.stylePrefix}message-close`,this.closeBtnEl),this.closeBtnEl?.appendChild(w(l||`<svg t="1690189203554" class="${this.stylePrefix}message-close-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2272" fill="currentColor"><path d="M504.224 470.288l207.84-207.84a16 16 0 0 1 22.608 0l11.328 11.328a16 16 0 0 1 0 22.624l-207.84 207.824 207.84 207.84a16 16 0 0 1 0 22.608l-11.328 11.328a16 16 0 0 1-22.624 0l-207.824-207.84-207.84 207.84a16 16 0 0 1-22.608 0l-11.328-11.328a16 16 0 0 1 0-22.624l207.84-207.824-207.84-207.84a16 16 0 0 1 0-22.608l11.328-11.328a16 16 0 0 1 22.624 0l207.824 207.84z" p-id="2273"></path></svg>`)),c.appendChild(this.closeBtnEl)),this.el=c,c}setTop(e){if(!e||!e.length)return;const{top:s}=this.options,t=e[0].offsetHeight;for(let o=0,n=e.length;o<n;o++){e[o].setAttribute("style",`top:${25!==z(s)?s:25*(o+1)+t*o+"px"};`)}}animationAddNode(e,s){const{startClassName:t,startClassNameSymbol:o}=this.options;t&&A(e,t,o,this.stylePrefix,i,(s=>{h(s)?s.forEach((s=>E(s,e))):E(s,e)})),s.appendChild(e)}animationRemoveNode(e,s=!1){const{removeClassName:t,removeClassNameSymbol:o}=this.options;t&&!s?A(e,t,o,this.stylePrefix,n,(()=>b(e))):b(e)}close(e,s,t=!1){const{maxDuration:o,container:n}=this.options,i=!m(s)||s<=0?100:s,a=o||1e4,r=!m(a)||a<=i?i:a,l=M(n),c=Math.min(i<1e3?10*i:i,r),d=()=>{e instanceof NodeList||e instanceof HTMLCollection?u(e).forEach((e=>{T(e)&&this.animationRemoveNode(e,t)})):T(e)&&this.animationRemoveNode(e,t),this.setTop(g("."+this.stylePrefix+"message",l))};t?d():setTimeout(d,c)}}const{hasOwn:I,isObject:O,warn:H}=L,D=e=>new S(e);D.util=L;for(let e in t)D[e]=s=>{const t=P(s);return O(s)&&I(s,"type"),new S({...t,type:e})};export{D as default};